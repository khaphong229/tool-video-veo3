--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1252.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\u1edf' in position 47: character maps to <undefined>
Call stack:
  File "E:\Workspace\Tool\Veo3\test_app_with_history.py", line 135, in <module>
    success = test_main_window()
  File "E:\Workspace\Tool\Veo3\test_app_with_history.py", line 38, in test_main_window
    window = MainWindow()
  File "E:\Workspace\Tool\Veo3\ui\main_window.py", line 50, in __init__
    self.db_manager = get_database()
  File "E:\Workspace\Tool\Veo3\core\database.py", line 1030, in get_database
    return DatabaseManager()
  File "E:\Workspace\Tool\Veo3\core\database.py", line 46, in __init__
    logger.info(f"Kh\u1edfi t\u1ea1o DatabaseManager v\u1edbi database: {self.db_path}")
Message: 'Kh\u1edfi t\u1ea1o DatabaseManager v\u1edbi database: E:\\Workspace\\Tool\\Veo3\\veo_database.db'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1252.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\u0110' in position 45: character maps to <undefined>
Call stack:
  File "E:\Workspace\Tool\Veo3\test_app_with_history.py", line 135, in <module>
    success = test_main_window()
  File "E:\Workspace\Tool\Veo3\test_app_with_history.py", line 38, in test_main_window
    window = MainWindow()
  File "E:\Workspace\Tool\Veo3\ui\main_window.py", line 50, in __init__
    self.db_manager = get_database()
  File "E:\Workspace\Tool\Veo3\core\database.py", line 1030, in get_database
    return DatabaseManager()
  File "E:\Workspace\Tool\Veo3\core\database.py", line 49, in __init__
    self.init_database()
  File "E:\Workspace\Tool\Veo3\core\database.py", line 86, in init_database
    logger.info("\u0110ang kh\u1edfi t\u1ea1o database...")
Message: '\u0110ang kh\u1edfi t\u1ea1o database...'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1252.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\u0111' in position 54: character maps to <undefined>
Call stack:
  File "E:\Workspace\Tool\Veo3\test_app_with_history.py", line 135, in <module>
    success = test_main_window()
  File "E:\Workspace\Tool\Veo3\test_app_with_history.py", line 38, in test_main_window
    window = MainWindow()
  File "E:\Workspace\Tool\Veo3\ui\main_window.py", line 50, in __init__
    self.db_manager = get_database()
  File "E:\Workspace\Tool\Veo3\core\database.py", line 1030, in get_database
    return DatabaseManager()
  File "E:\Workspace\Tool\Veo3\core\database.py", line 49, in __init__
    self.init_database()
  File "E:\Workspace\Tool\Veo3\core\database.py", line 215, in init_database
    logger.info("Database \u0111ã \u0111\u01b0\u1ee3c kh\u1edfi t\u1ea1o thành công")
Message: 'Database \u0111ã \u0111\u01b0\u1ee3c kh\u1edfi t\u1ea1o thành công'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1252.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\u1ea5' in position 64: character maps to <undefined>
Call stack:
  File "E:\Workspace\Tool\Veo3\test_app_with_history.py", line 135, in <module>
    success = test_main_window()
  File "E:\Workspace\Tool\Veo3\test_app_with_history.py", line 38, in test_main_window
    window = MainWindow()
  File "E:\Workspace\Tool\Veo3\ui\main_window.py", line 56, in __init__
    self.setupUi()
  File "E:\Workspace\Tool\Veo3\ui\main_window.py", line 72, in setupUi
    self.createCentralWidget()
  File "E:\Workspace\Tool\Veo3\ui\main_window.py", line 265, in createCentralWidget
    self.setupTabs()
  File "E:\Workspace\Tool\Veo3\ui\main_window.py", line 275, in setupTabs
    self.text_to_video_tab = self.create_text_to_video_tab()
  File "E:\Workspace\Tool\Veo3\ui\main_window.py", line 296, in create_text_to_video_tab
    tab = TextToVideoTab()
  File "E:\Workspace\Tool\Veo3\ui\tabs\text_to_video_tab.py", line 58, in __init__
    self.user_settings = get_user_settings()
  File "E:\Workspace\Tool\Veo3\config\user_settings.py", line 425, in get_user_settings
    _settings_manager = UserSettingsManager()
  File "E:\Workspace\Tool\Veo3\config\user_settings.py", line 35, in __init__
    self.load_settings()
  File "E:\Workspace\Tool\Veo3\config\user_settings.py", line 115, in load_settings
    logger.info("Không tìm th\u1ea5y settings file, s\u1eed d\u1ee5ng default")
Message: 'Không tìm th\u1ea5y settings file, s\u1eed d\u1ee5ng default'
Arguments: ()
======================================================================
MAIN WINDOW WITH HISTORY TAB TEST
======================================================================

1. Importing MainWindow...
   SUCCESS - MainWindow imported

2. Creating MainWindow...
2025-11-06 20:31:43 - ui.tabs.text_to_video_tab - INFO - TextToVideoTab initialized
2025-11-06 20:31:43 - ui.main_window - INFO - Switched to tab: Text to Video
2025-11-06 20:31:43 - ui.tabs.image_to_video_tab - INFO - ImageToVideoTab initialized
2025-11-06 20:31:43 - ui.tabs.scene_manager_tab - INFO - Loaded 0 projects
2025-11-06 20:31:43 - ui.tabs.scene_manager_tab - INFO - SceneManagerTab initialized
2025-11-06 20:31:43 - ui.tabs.history_tab - INFO - Loading history with filters: {'search': '', 'date_from': None, 'date_to': None, 'model': 'All', 'status': 'All', 'sort_by': 'date_desc'}
2025-11-06 20:31:43 - ui.tabs.history_tab - ERROR - Failed to load videos from database: 'DatabaseManager' object has no attribute 'get_all_videos'
2025-11-06 20:31:43 - ui.tabs.history_tab - INFO - History Tab initialized
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1252.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\u0110' in position 46: character maps to <undefined>
Call stack:
  File "E:\Workspace\Tool\Veo3\test_app_with_history.py", line 135, in <module>
    success = test_main_window()
  File "E:\Workspace\Tool\Veo3\test_app_with_history.py", line 38, in test_main_window
    window = MainWindow()
  File "E:\Workspace\Tool\Veo3\ui\main_window.py", line 57, in __init__
    self.apply_theme()
  File "E:\Workspace\Tool\Veo3\ui\main_window.py", line 82, in apply_theme
    logger.info("\u0110ã áp d\u1ee5ng dark theme")
Message: '\u0110ã áp d\u1ee5ng dark theme'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "C:\Python313\Lib\logging\__init__.py", line 1153, in emit
    stream.write(msg + self.terminator)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1252.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\u0111' in position 58: character maps to <undefined>
Call stack:
  File "E:\Workspace\Tool\Veo3\test_app_with_history.py", line 135, in <module>
    success = test_main_window()
  File "E:\Workspace\Tool\Veo3\test_app_with_history.py", line 38, in test_main_window
    window = MainWindow()
  File "E:\Workspace\Tool\Veo3\ui\main_window.py", line 59, in __init__
    logger.info("Main Window \u0111ã \u0111\u01b0\u1ee3c kh\u1edfi t\u1ea1o")
Message: 'Main Window \u0111ã \u0111\u01b0\u1ee3c kh\u1edfi t\u1ea1o'
Arguments: ()
   SUCCESS - MainWindow created

3. Checking tab count...
   SUCCESS - Found 4 tabs

4. Checking tab names...
Traceback (most recent call last):
  File "E:\Workspace\Tool\Veo3\test_app_with_history.py", line 68, in test_main_window
    assert actual_name == expected_name, f"Tab {i}: expected '{expected_name}', got '{actual_name}'"
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: Tab 0: expected 'Text to Video', got '\U0001f3ac Text to Video'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\Workspace\Tool\Veo3\test_app_with_history.py", line 135, in <module>
    success = test_main_window()
  File "E:\Workspace\Tool\Veo3\test_app_with_history.py", line 73, in test_main_window
    print(f"   FAILED - {e}")
    ~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1252.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f3ac' in position 50: character maps to <undefined>
